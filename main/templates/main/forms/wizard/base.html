{% extends "main/site_base.html" %}

{% load static i18n um_components %}

{% block extra_head %}
    {{ block.super }}
    {{ wizard.form.media }}
    <script src="{% static "js/forms/loading.js" %}"></script>
{% endblock %}

{% block header %}
    {% page_header "Select Achievement Type" %}
{% endblock %}

{% block content %}

    {% if wizard.form.errors %}
        <div class="flex justify-center pb-4">
            <p class="basis-7/12 rounded-lg border border-red-700 p-4 text-center text-lg text-red-700">
                Please fix the errors below.
            </p>
        </div>
    {% endif %}

    {% if wizard.form.non_field_errors %}
        <div class="flex justify-center pb-4">
            <p class="basis-7/12 rounded-lg border border-red-700 p-4 text-center text-lg text-red-700">
                {% for error in wizard.form.non_field_errors %}
                    {{ error }}
                {% endfor %}
            </p>
        </div>
    {% endif %}

    {% if messages %}
        <ul class="flex justify-center pb-4">
            {% for message in messages %}
                <li class="basis-7/12 rounded-lg border border-green-600 p-4 text-center text-lg text-green-600">
                    {{ message }}
                </li>
            {% endfor %}
        </ul>
    {% endif %}

    <form enctype="multipart/form-data" method="post" action="" autocomplete="off">
        {% csrf_token %}
        {{ wizard.management_form }}

        <div class="flex flex-col items-center justify-center">
            <div class="m-auto text-center ciaran">
                <p class="max-w-lg py-2 font-medium text-gray-900">
                    {% block sub-header %}{% endblock sub-header %}
                </p>
            </div>
            {% block form_content %}
            {% endblock %}
        </div>

        <div class="flex justify-center">
            {% if wizard.steps.prev %}
                <button formnovalidate="formnovalidate"
                        name="wizard_goto_step"
                        value="{{ wizard.steps.prev }}"
                        class="mx-2 my-4 rounded-md bg-gray-300 px-3 py-2 font-medium text-gray-800 shadow-md transition ease-in-out hover:scale-105 hover:bg-gray-800 hover:text-white">
                    {% trans "Previous" %}
                </button>
            {% endif %}
            <button type="submit" class="mx-2 my-4 flex items-center rounded-md bg-gray-300 px-3 py-2 font-medium text-gray-800 shadow-md transition ease-in-out hover:scale-105 hover:bg-gray-800 hover:text-white">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 hidden h-5 w-5 animate-spin text-white" fill="currentColor">
                    <path d="M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"/>
                </svg>
                {% block submit_text %}{% trans "Submit" %}{% endblock %}
            </button>
        </div>
    </form>
{% endblock %}

{% extends "main/site_base.html" %}

{% load i18n um_components %}

{% block extra_head %}
    {{ block.super }}
    {{ wizard.form.media }}
{% endblock %}

{% block header %}
    {% page_header "Submit New Achievement" %}
{% endblock %}

{% block content %}

    {% if wizard.form.errors %}
        <div class="flex justify-center pb-4">
            <p class="p-4 text-lg text-center text-red-700 rounded-lg border border-red-700 basis-7/12">
                Please fix the errors below.
            </p>
        </div>
    {% endif %}

    {% if wizard.form.non_field_errors %}
        <div class="flex justify-center pb-4">
            <p class="p-4 text-lg text-center text-red-700 rounded-lg border border-red-700 basis-7/12">
                {% for error in wizard.form.non_field_errors %}
                    {{ error }}
                {% endfor %}
            </p>
        </div>
    {% endif %}

    {% if messages %}
        <ul class="flex justify-center pb-4">
            {% for message in messages %}
                <li class="p-4 text-lg text-center text-green-600 rounded-lg border border-green-600 basis-7/12">
                    {{ message }}
                </li>
            {% endfor %}
        </ul>
    {% endif %}

    <form enctype="multipart/form-data" method="post" action="" autocomplete="off">
        {% csrf_token %}
        {{ wizard.management_form }}

        <div class="flex flex-col justify-center items-center">
            {% block form_content %}
            {% endblock %}
        </div>

        <div class="flex justify-center">
            {% if wizard.steps.prev %}
                <button formnovalidate="formnovalidate"
                        name="wizard_goto_step"
                        value="{{ wizard.steps.prev }}"
                        class="px-3 py-2 mx-2 my-4 font-medium text-gray-800 bg-gray-300 rounded-md shadow-md transition ease-in-out hover:bg-gray-800 hover:text-gray-300 hover:scale-105">
                    {% trans "Previous" %}
                </button>
            {% endif %}
            <button type="submit" class="px-3 py-2 mx-2 my-4 font-medium text-gray-800 bg-gray-300 rounded-md shadow-md transition ease-in-out hover:bg-gray-800 hover:text-gray-300 hover:scale-105">
                {% block submit_text %}{% trans "Submit" %}{% endblock %}
            </button>
        </div>
    </form>
{% endblock %}

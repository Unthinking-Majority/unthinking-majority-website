{% load static %}

<script src="{% static 'js/content_page/sidebar.js' %}"></script>

{# Mobile sidebar #}
<aside id="content-page-sidebar-mobile" class="transition-all duration-200 2xl:hidden">
    <div class="fixed right-6 bottom-6 cursor-pointer rounded-full bg-slate-700 p-2 shadow-md transition-all ease-in-out sidebar-button hover:scale-110">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
             class="h-8 w-8 text-white">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"></path>
        </svg>
    </div>
    <div class="fixed right-6 bottom-6 hidden transition-all ease-in-out sidebar-panel">
        <ul class="rounded-lg bg-slate-700 px-4 py-4 text-gray-400">
            <li>
                <h3 class="text-center text-lg text-white">Page Contents</h3>
            </li>
            {% for block in page.body %}
                {% if block.block_type == "heading_2" %}
                    <li class="my-1 ml-2">
                        <a href="#{{ block.value|slugify }}" class="hover:text-white">{{ block.value }}</a>
                    </li>
                {% elif block.block_type == "heading_3" %}
                    <li class="my-1 pl-6">
                        <a href="#{{ block.value|slugify }}" class="hover:text-white">{{ block.value }}</a>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
</aside>

{# Desktop sidebar #}
<aside id="content-page-sidebar-desktop" class="invisible fixed transition-all duration-200 2xl:visible">
    <ul class="rounded-lg px-4 py-1 text-gray-400">
        <li>
            <h3 class="text-center text-lg text-white">
                Page Contents
            </h3>
        </li>
        {% for block in page.body %}
            {% if block.block_type == "heading_2" %}
                <li class="my-1 ml-4">
                    <a href="#{{ block.value|slugify }}" class="hover:text-white">{{ block.value }}</a>
                </li>
            {% elif block.block_type == "heading_3" %}
                <li class="my-1 pl-8">
                    <a href="#{{ block.value|slugify }}" class="hover:text-white">{{ block.value }}</a>
                </li>
            {% endif %}
        {% endfor %}
    </ul>
</aside>

{% extends "main/site_base.html" %}

{% load static um_components %}

{% block extra_head %}
    {{ block.super }}
    <script src="{% static "js/tabs.js" %}"></script>
{% endblock extra_head %}

{% block content %}
    {% page_header content.name content.icon %}

    <div class="flex justify-around gap-1">
        <span class="basis-full xl:basis-7/12">

            {# Buttons for switching between PB/Hiscores boards #}
            <div class="mb-2 flex flex-wrap justify-center">
                {% if content.is_pb %}
                    <button data-table="personal-bests-table" class="mx-2 my-2 rounded-md px-3 py-2 font-medium shadow-md transition ease-in-out tab-button">
                        Personal Bests
                    </button>
                {% endif %}
                {% if content.has_hiscores %}
                    <button data-table="hiscores-table" class="mx-3 my-2 rounded-md px-3 py-2 font-medium shadow-md transition ease-in-out tab-button">
                        Hiscores
                    </button>
                {% endif %}
            </div>

            {% if content.is_pb %}
                <div id="personal-bests-table" class="tab-content">
                {# Tab buttons to switch between boards #}
                    {% if boards|length > 1 %}
                        <div class="mb-2 flex flex-wrap justify-center">
                        {% for board in boards %}
                            <a href="?active_board={{ board.slug }}"
                               class="mx-2 my-2 rounded-md px-3 py-2 font-medium shadow-md transition ease-in-out {% if active_board == board %}bg-slate-800 text-white shadow-slate-700/50 pointer-events-none{% else %}bg-gray-200 hover:scale-105 hover:bg-slate-800 hover:text-gray-200{% endif %}"
                               {% if not achievements_page %}disabled{% endif %}>
                                {{ board.name }}
                            </a>
                        {% endfor %}
                    </div>
                    {% endif %}
                    {% include "main/board.html" %}
                </div>
            {% endif %}

            {% if content.has_hiscores %}
                <div id="hiscores-table" class="tab-content">
                    {% include "main/hiscores_board.html" %}
                </div>
            {% endif %}

        </span>
    </div>
{% endblock %}

{% extends "main/site_base.html" %}

{% load static um_components %}

{% block extra_head %}
    {{ block.super }}
    <script src="{% static "js/forms/loading.js" %}"></script>
{% endblock %}

{% block content %}
    {% page_header "Create Account" %}
    <div class="m-auto text-center">
        <p class="py-2 font-medium text-gray-900">
            Remember, creating an account <i><u>is not required</u></i> for using this site!
        </p>
    </div>
    {% if form.errors %}
        <div class="flex justify-center pb-4">
            <p class="basis-7/12 rounded-lg border border-red-700 p-4 text-center text-lg text-red-700">
                Please fix the errors below.
            </p>
        </div>
    {% endif %}

    {% if form.non_field_errors %}
        <div class="flex justify-center pb-4">
            <p class="basis-7/12 rounded-lg border border-red-700 p-4 text-center text-lg text-red-700">
                {% for error in form.non_field_errors %}
                    {{ error }}
                {% endfor %}
            </p>
        </div>
    {% endif %}

    <div class="flex justify-center">
        <form method="post" autocomplete="off" enctype="multipart/form-data">
            {% csrf_token %}

            {% simple_input form.username %}

            {% simple_input form.password1 %}

            {% simple_input form.password2 %}

            {% if form.account.errors %}
                <div class="mx-2 flex w-80 justify-center">
                    {% include "main/forms/field_error_list.html" with errors=form.account.errors %}
                </div>
            {% endif %}
            {{ form.account }}

            {% file_input form.proof %}

            <div class="flex items-center justify-center">
                Phrase:<span class="m-1 text-4xl font-runescape">{{ form.phrase.initial }}</span>
            </div>

            {{ form.phrase }}

            <div class="flex justify-center">
                <button type="submit" tabindex="0" class="mx-2 my-4 flex items-center rounded-md bg-gray-300 px-3 py-2 font-medium text-gray-800 shadow-md transition ease-in-out hover:scale-105 hover:bg-gray-800 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 hidden h-5 w-5 animate-spin text-white" fill="currentColor">
                        <path d="M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"/>
                    </svg>
                    Create Account
                </button>
            </div>
        </form>
    </div>
{% endblock %}
